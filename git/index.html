<!doctype html>
<html>
  <head>
    <link rel="stylesheet" href="../style.css" />
    <title>Git et outils de travail du développeur</title>
    <meta charset="utf-8" />
  </head>

  <body>
    <header>
      <h1>
        Module B0M2 — MODXXX<br />
        Git et outils de travail du développeur
      </h1>

      <table>
        <tbody>
          <tr>
            <th>I-manuel</th>
            <td>B0M2 — Recenser les outils de travail du développeur</td>
          </tr>
          <tr>
            <th>Séquence</th>
            <td>S021 — Git et outils de travail du développeur</td>
          </tr>
        </tbody>
      </table>
    </header>

    <aside id="sommaire">
      <h2>Sommaire du module</h2>
      <ul>
        <li><a href="#video">Vidéo de présentation du module</a></li>
        <li><a href="#quiz">Quiz</a></li>
        <li>
          <a href="#decouverte">Découverte (5h)</a>
          <ul>
            <li><a href="#depot-et-commandes">Créer un dépôt et effectuer les premières commandes</a></li>
            <li><a href="#navigation">Naviguer dans l’historique</a></li>
            <li><a href="#branches-et-conflits">Manipuler des branches et gérer les conflits</a></li>
            <li><a href="#partage">Partager son dépôt et travailler à plusieurs</a></li>
          </ul>
        </li>
        <li>
          <a href="#atelier">Atelier (2h)</a>
        </li>
        <li>
          <a href="#fiches-ressources">Fiches ressources</a>
          <ul>
            <li><a href="#installation">Installation et utilisation de Git</a></li>
            <li><a href="#configuration">Configuration générale, configuration de dépôts</a></li>
            <li><a href="#commandes">Commandes principales</a></li>
            <li><a href="#vocabulaire">Vocabulaire et anatomie d’un dépôt Git</a></li>
            <li><a href="#conflits">Résolution des conflits</a></li>
            <li><a href="#integration">Intégration dans d’autres outils</a></li>
          </ul>
        </li>
      </ul>
    </aside>

    <main>

      <section id="video">
        <h2>Vidéo de présentation du module</h2>
        <p>
          Le développement nécessite d’écrire et de partager du code avec
          d’autres. Pour cela, on voudrait avoir un endroit où stocker nos
          fichiers et garder un historique de tout ce qui a été fait. Évidemment,
          on veut avoir une vision d’ensemble de ce qui a été fait, et bien sûr
          revenir en arrière en cas de gros problème.
        </p>
        <p>
          Ces besoins viennent malheureusement avec quelques petites
          complications que tout le monde connaît. Lorsque l’on travaille à
          plusieurs, chacun et chacune devant son ordinateur, on veut gérer les
          cas où l’on fait des changements incompatibles avec ceux des autres !
          On veut également garder trace de toutes les versions, mais on veut
          éviter l’enfer des numéros de versions 1, 2, 2.1-bis, 2.2-final-final,
          2.3-avec-les-changements-de-jeudi-dernier.
        </p>
        <p>
          On veut surtout éviter de perdre notre précieux travail !
        </p>
        <p>
          Heureusement pour nous, il existe des outils faits pour cela : les
          gestionnaires de versions. À l’heure actuelle, le plus connu d’entre
          eux se nomme Git, et c’est celui que nous allons découvrir dans ce
          module de formation.
        </p>
        <p>
          Nous allons tout d’abord comprendre le fonctionnement global des
          gestionnaires de versions, pour créer ensuite notre premier dépôt Git
          et effectuer dessus nos premières commandes. Avec ces bases, nous
          pourrons alors apprendre à manipuler les branches, gérer les conflits
          de code, et visualiser les différentes versions de notre travail.
          Enfin nous pourrons partager notre dépôt en ligne pour effectuer du
          travail collaboratif.
        </p>
        <p>
          Tout au long du module, nous utiliserons Git et ses commandes dans le
          terminal, afin de bien comprendre en profondeur comment fonctionne ce
          gestionnaire de versions. À l’issue de la formation, vous serez à
          même de pouvoir l’utiliser en équipe pour tous vos projets
          informatiques, directement, ou intégré dans des outils tiers, comme
          votre éditeur de texte par exemple.
        </p>
        <p>
          Finis les échanges de code en pièces jointes ou copiés-collés dans les
          salons de discussion, il est temps de versionner son code avec Git !
        </p>
      </section>


      <section id="quiz">
        <h2>Quiz</h2>
        <ul>
          <li>
            <p>
              Quelle commande effectue-t-on généralement après
              <code>git add</code> ?
            </p>
            <ul>
              <li><code>git push</code></li>
              <li><code>git rm</code></li>
              <li><code>git version</code></li>
              <li><code>git commit</code></li>
              <li>je ne sais pas</li>
            </ul>
          </li>
          <li>
            <p>
              Comment ajoute-t-on une nouvelle version à un dépôt local ?
            </p>
            <ul>
              <li>on ajoute les modifications à l’index et on crée un <em>commit</em></li>
              <li>on enregistre les modifications dans une étiquette locale</li>
              <li>on effectue un <code>git push</code> avec les changements de l’arbre de travail</li>
              <li>on édite le dépôt local avec <code>git edit --local</code></li>
              <li>je ne sais pas</li>
            </ul>
          </li>
          <li>
            <p>
              Comment faire un <em>commit</em> qui annule les changements
              effectués dans un autre <em>commit</em> ?
            </p>
            <ul>
              <li><code>git revert</code></li>
              <li><code>git reset</code></li>
              <li><code>git checkout</code></li>
              <li><code>git cancel</code></li>
              <li>je ne sais pas</li>
            </ul>
          </li>
          <li>
            <p>
              Que se passe-t-il lorsque l’on fusionne deux branches ?
            </p>
            <ul>
              <li>un <em>commit</em> est créé avec les deux branches comme parents</li>
              <li>une étiquette rassemble les <em>commits</em> des deux branches</li>
              <li>tous les <em>commits</em> des deux branches sont fusionnés en un seul</li>
              <li>un <em>checkout</em> est effectué pour mettre à jour le dépôt</li>
              <li>je ne sais pas</li>
            </ul>
          </li>
          <li>
            <p>
              Dans un dépôt Git, quel élément utilise-t-on pour stocker un
              numéro de version d’un logiciel, comme « v1.0 » par exemple ?
            </p>
            <ul>
              <li>une branche</li>
              <li>une étiquette</li>
              <li>un <em>commit</em></li>
              <li>un <em>fork</em></li>
              <li>je ne sais pas</li>
            </ul>
          </li>
          <li>
            <p>
              Où la commande <code>git push</code> envoie-t-elle les
              informations du dépôt local ?
            </p>
            <ul>
              <li>sur un arbre de travail</li>
              <li>sur un dépôt distant</li>
              <li>sur un serveur HTML</li>
              <li>sur un <em>tag</em> public</li>
              <li>je ne sais pas</li>
            </ul>
          </li>
          <li>
            <p>
              Quand peuvent apparaître des conflits en travaillant avec Git ?
            </p>
            <ul>
              <li>lorsque l’on édite des étiquettes</li>
              <li>lorsque l’on crée un <em>commit</em> distant</li>
              <li>lorsque l’on <em>forke</em> un dépôt</li>
              <li>lorsque l’on fusionne des branches</li>
              <li>je ne sais pas</li>
            </ul>
          </li>
          <li>
            <p>
              Comment peut-on remettre les fichiers de notre arbre de travail à
              l’état dans lequel ils étaient dans un <em>commit</em>
              spécifique ?
            </p>
            <ul>
              <li>on ne peut pas</li>
              <li>avec <code>git checkout</code></li>
              <li>avec <code>git read</code> et <code>git apply</code></li>
              <li>avec <code>git diff</code></li>
              <li>je ne sais pas</li>
            </ul>
          </li>
          <li>
            <p>
              Comment peut-on modifier les informations d’un <em>commit</em> en
              gardant son numéro ?
            </p>
            <ul>
              <li>on ne peut pas</li>
              <li>avec <code>git edit</code></li>
              <li>avec <code>git change</code></li>
              <li>avec <code>git reset</code></li>
              <li>je ne sais pas</li>
            </ul>
          </li>
          <li>
            <p>
              Quelle commande peut-on utiliser pour voir l’historique d’un
              dépôt ?
            </p>
            <ul>
              <li><code>git log</code></li>
              <li><code>git history</code></li>
              <li><code>git status</code></li>
              <li><code>git view</code></li>
              <li>je ne sais pas</li>
            </ul>
          </li>
        </ul>
      </section>


      <section id="decouverte">
        <h2>Découverte</h2>

        <section id="depot-et-commandes">
          <h3>Créer un dépôt et effectuer les premières commandes</h3>
          <section class="introduction">
            <p>Temps estimé : 1h.</p>
            <p>
              Lors de cette première étape, nous allons découvrir le
              gestionnaire de versions Git en nous familiarisant avec les
              commandes les plus utilisées. Nous installerons Git et créerons
              notre premier dépôt pour stocker les différentes versions de
              notre travail.
            </p>
          </section>
          <section class="sujet">
            <p>
              Votre entreprise souhaite créer une application pour apprendre à
              parler des langues étrangères, et la mission qui vous est confiée
              est de créer le premier prototype ! Vous commencez par créer des
              fichiers texte qui stockent la traduction du texte « Bonjour le
              monde ! » dans différentes langues. Comme vous travaillerez en
              collaboration avec des équipes de traduction réparties dans
              plusieurs pays, vous décidez d’utiliser le gestionnaire de
              versions le plus courant : Git.
            </p>
            <p>
              Votre but est de créer un fichier par langue, avec le texte à
              l’intérieur. Pour chaque langue ajoutée ou chaque texte modifié,
              vous enregistrez une version différente afin de garder trace de
              tous les changements effectués.
            </p>
            <p>
              Avant de vous lancer, si c’est la première fois que vous utilisez
              Git, il est important de l’installer et de le configurer un
              minimum. Ainsi, Git connaîtra votre nom pour l’enregistrer dans
              les informations de versions. Le monde entier saura que c’est
              vous qui avez réalisé ce projet !
            </p>
          </section>
          <section class="questions">
            <h4>Installez et configurez Git</h4>
            <aside class="documents">
              <ul>
                <li><a href="#installation">FR 1</a></li>
                <li><a href="#configuration">FR 2</a></li>
              </ul>
            </aside>
            <ol>
              <li>
                Installez Git et vérifiez que la commande fonctionne
                correctement dans un terminal. Quelle version de Git est
                installée sur votre ordinateur ?
              </li>
              <li>
                Configurez Git pour qu’il connaisse votre nom et votre adresse
                mail. Après avoir enregistré ces informations, pouvez-vous
                vérifier qu’elles sont bien correctes ?
              </li>
            </ol>
            <h4>Créez votre dépôt et enregistrez votre première version</h4>
            <aside class="documents">
              <ul>
                <li><a href="#commandes">FR 3</a></li>
              </ul>
            </aside>
            <ol>
              <li>
                Dans votre terminal, allez dans le dossier où vous voulez créer
                votre dépôt, puis créez ce dépôt en le nommant « traductions ».
              </li>
              <li>
                Avec votre éditeur de texte, créez votre premier fichier
                « bonjour.txt » dans le dossier « traductions », contenant le
                texte « Bonjour monde ! ». Dans votre terminal, allez dans le
                dossier « traductions », et vérifiez le statut de votre arbre
                de travail.
              </li>
              <li>
                Votre fichier n’est pas encore suivi par votre dépôt, parce
                qu’il n’a pas encore été enregistré dans une version. Il est
                temps de remédier à cela ! Ajoutez votre fichier à la liste des
                fichiers à sauvegarder dans votre prochaine version (cette
                liste s’appelle l’« index »).
              </li>
              <li>
                Il est l’heure de sauvegarder votre première version.
                Choisissez un beau message pour indiquer que vous avez ajouté
                le texte en français, et trouvez la commande pour créer votre
                version (que l’on appelle « <em>commit</em> »).
              </li>
            </ol>
            <h4>Modifiez vos fichiers et enregistrez de nouvelles versions</h4>
            <aside class="documents">
              <ul>
                <li><a href="#annexe-1-1">Annexe 1</a></li>
              </ul>
            </aside>
            <ol>
              <li>
                Recommencez ces étapes avec un fichier « hello.txt » contenant le
                texte « Hello world! ». Vous avez désormais deux versions dans
                votre dépôt. Affichez dans le terminal le message et la
                date associés à ces deux versions.
              </li>
              <li>
                Changez le texte de « bonjour.txt » pour qu’il contienne
                « Bonjour tout le monde ! ». Créez un nouveau <em>commit</em>
                avec cette modification.
              </li>
            </ol>
          </section>
          <section class="annexes">
            <h4 id="annexe-1-1">Résultat attendu</h4>
            <p>
              À la suite de ce travail, vous devez avoir 2 fichiers dans votre
              dépôt :
            </p>
            <figure class="fichier">
              <figcaption><code>bonjour.txt</code></figcaption>
              <pre>Bonjour tout le monde !</pre>
            </figure>
            <figure class="fichier">
              <figcaption><code>hello.txt</code></figcaption>
              <pre>Hello world!</pre>
            </figure>
            <p>
              Votre historique doit ressembler à cela :
            </p>
            <figure class="console">
              <figcaption>Historique</figcaption>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~</span>$ git log
<span class="jaune">commit b1619edefaedb0c024efd0678fe763c972184b84 (<span class="bleu">HEAD</span> -> <span class="vert">master</span>)</span>
Author: Alice Liddell &lt;alice@wonderland.org>
Date:   Tue Nov 14 14:40:20 2040 +0000

    Mise à jour du fichier en français

<span class="jaune">commit 8a7eb387651f7c1fc69cedca5e051fc39a3cf2d9</span>
Author: Alice Liddell &lt;alice@wonderland.org>
Date:   Tue Nov 14 14:40:02 2040 +0000

    Ajout du fichier en anglais

<span class="jaune">commit 12891ec485e12796459e11332f93300bc87f1d7e</span>
Author: Alice Liddell &lt;alice@wonderland.org>
Date:   Tue Nov 14 14:39:13 2040 +0000

    Création du fichier en français</code></pre>
            </figure>
          </section>
        </section>

        <section id="navigation">
          <h3>Naviguer dans l’historique</h3>
          <section class="introduction">
            <p>Temps estimé : 1h.</p>
            <p>
              Au cours de cette partie, nous apprendrons à naviguer dans
              les <em>commits</em> d’un dépôt Git, afin de mieux connaître
              l’historique d’un projet et de pouvoir revoir l’état de notre
              travail à un instant donné.
            </p>
          </section>
          <section class="sujet">
            <p>
              Dans votre entreprise, vous vous trouvez en charge de l’édition
              d’un livre de recettes de desserts. Ce livre a déjà été publié
              plusieurs fois, avec des modifications apportées à chaque nouvelle
              version.
            </p>
            <p>
              Votre mission est de préparer la publication d’une nouvelle
              version, en prenant en compte les demandes de modifications
              formulées par les membres de votre équipe. Pour cela, vous allez
              d’abord devoir vous replonger dans l’historique de ce contenu,
              afin de mieux comprendre comment il a été construit.
            </p>
          </section>
          <section class="questions">
            <h4>Prenez connaissance de l’historique</h4>
            <aside class="documents">
              <ul>
                <li><a href="#commandes">FR 3</a></li>
                <li><a href="#vocabulaire">FR 4</a></li>
              </ul>
            </aside>
            <ol>
              <li>
                Clonez le dépôt <todo>nom du dépôt</todo> sur votre ordinateur.
                Combien y a-t-il de <em>commits</em> dans ce dépôt ?
              </li>
              <li>
                Chaque publication précédente a été stockée dans le dépôt sous
                forme d’étiquettes. Combien de publications différentes de ce
                livre ont déjà été faites ? À quelles dates ont-elles été
                effectuées ?
              </li>
              <li>
                Quelles sont les derniers <em>commits</em> concernant la
                recette de crumble au citron ?
              </li>
              <li>
                Vous souhaitez voir le contenu tel qu’il était lors de la
                première publication. Basculez votre arbre de travail sur cette
                version.
              </li>
              <li>
                Vous souhaitez maintenant voir le contenu tel qu’il était lors
                de la seconde publication. Quelles sont les différences entre
                la première et la seconde publication ? Retournez sur la
                version principale (la branche « main »).
              </li>
            </ol>
            <h4>Publiez une nouvelle version</h4>
            <aside class="documents">
              <ul>
                <li><a href="#annexe-2-1">Annexe 1</a></li>
              </ul>
            </aside>
            <ol>
              <li>
                Une personne de votre équipe vous demande de changer les
                fraises en framboises dans la recette de charlotte. Changez le
                fichier sans faire de nouveau <em>commit</em>.
              </li>
              <li>
                Finalement, vous préférez annuler cette modification. Comment
                annuler les changements sans faire l’édition à la main ?
              </li>
              <li>
                Entre la première et la seconde version, une modification de la
                quantité de farine a été faite sur recette du gâteau roulé. Les
                retours des lecteurs sur cette recette ont indiqué que la
                quantité de farine était mieux avant. Faites un <em>commit</em>
                qui annule ce <em>commit</em>.
              </li>
              <li>
                Une pâtissière de votre équipe vous indique qu’il vaut mieux
                cuire la tarte aux pommes à 200°C. Effectuez le changement et
                faites un nouveau <em>commit</em>.
              </li>
              <li>
                Il est temps de finaliser votre nouvelle publication ! Ajoutez
                une étiquette « version-3 » sur le <em>commit</em> actuel.
              </li>
            </ol>
          </section>
          <section class="annexes">
            <h4 id="annexe-2-1">Résultat attendu après la publication</h4>
            <todo></todo>
          </section>
        </section>

        <section id="branches-et-conflits">
          <h3>Manipuler des branches et gérer les conflits</h3>
          <section class="introduction">
            <p>Temps estimé : 2h.</p>
            <p>
              Les gestionnaires de version comme Git excellent dans l’art de
              gérer le développement de fonctionnalités en parallèle. Dans
              cette partie, nous aborderons le concept de branche et
              apprendrons à résoudre une conséquence courante du travail en
              parallèle : les conflits.
            </p>
          </section>
          <section class="sujet">
            <p>
              Votre entreprise lance un projet visant à mettre en ligne des
              contes pour enfants. Les histoires seront adaptées à partir de
              romans célèbres, et plusieurs auteurs travailleront en même temps
              sur le contenu. Vous êtes en charge de mettre en place la
              structure du projet !
            </p>
            <p>
              La première histoire que vous allez mettre en ligne est inspirée
              d’<em>Alice au pays des merveilles</em>. Pour des raisons
              techniques imposées par votre direction, vous devez mettre chaque
              paragraphe dans un fichier séparé.
            </p>
            <p>
              Dans cette entreprise, votre équipe a beaucoup d’idées qu’il faut
              souvent développer rapidement et en parallèle. Vous vous dites
              que c’est une excellente raison d’utiliser les branches de Git,
              afin que vous puissiez vous retrouver dans les nombreuses
              demandes qui vous sont adressées. Vous travaillerez sur la
              branche principale, et vous développerez les modifications
              demandées par vos collègues sur des branches spécifiques.
            </p>
          </section>
          <section class="questions">
            <h4>Rédigez le premier chapitre</h4>
            <aside class="documents">
              <ul>
                <li><a href="#commandes">FR 3</a></li>
                <li><a href="#vocabulaire">FR 4</a></li>
              </ul>
            </aside>
            <ol>
              <li>
                Dans votre terminal, allez dans le dossier où vous voulez créer
                votre dépôt, puis créez un dépôt nommé « contes ». Dans votre
                arbre de travail, créez des fichiers « paragraphe1.txt »,
                « paragraphe2.txt » et « paragraphe3.txt », qui contiennent
                <a href="https://www.gutenberg.org/cache/epub/55456/pg55456-images.html#ch_1">les 3 premiers paragraphes d’<em>Alice au pays des merveilles</em></a>.
                Vous pouvez copier-coller le contenu, mais conservez bien les
                mêmes sauts de ligne. Faites votre premier <em>commit</em>.
              </li>
              <li>
                Ce premier « commit » est automatiquement créé sur la branche
                par défaut. Comment s’appelle cette branche ? Quelles commandes
                différentes vous permettent de connaître cette information ?
              </li>
            </ol>
            <h4>Gérez les demandes</h4>
            <aside class="documents">
              <ul>
                <li><a href="#annexe-3-1">Annexe 1</a></li>
              </ul>
            </aside>
            <ol>
              <li>
                L’un de vos collègues, M. Lewis, n’aime pas les lapins aux yeux
                roses et souhaiterait plutôt que les yeux soient bleus. Pour
                accéder à sa demande, créez une branche « lewis-bleu » à partir
                de votre branche principale, puis mettez vous sur cette
                branche. Changez la couleur des yeux dans « paragraphe2.txt »,
                puis <em>commitez</em> ce changement. Vérifiez bien que vous
                êtes sur la bonne branche avant de créer ce <em>commit</em> !
              </li>
              <li>
                En attendant que M. Lewis vous donne son feu vert pour intégrer
                sa modification dans la branche principale, vous décidez
                d’avancer sur le premier chapitre. Comment pouvez-vous
                retourner sur la branche principale ? Une fois sur la branche
                principale, créez « paragraphe4.txt » et faites un
                nouveau <em>commit</em>.
              </li>
              <li>
                M. Lewis est ravi de la modification qu’il a demandée et
                souhaite l’intégrer dans la branche principale. Quelle commande
                utilisez-vous pour fusionner la branche « lewis-bleu » dans la
                branche principale ?
              </li>
            </ol>
            <h4>Réglez les conflits</h4>
            <aside class="documents">
              <ul>
                <li><a href="#conflits">FR 5</a></li>
                <li><a href="#annexe-3-2">Annexe 2</a></li>
              </ul>
            </aside>
            <ol>
              <li>
                Mme Caroll, votre supérieure qui adore Star Wars, vous demande
                de changer le prénom « Alice » en « Leia » dans tous les
                paragraphes. Vous créez une branche « caroll-leia » à partir de
                la branche principale, puis vous y intégrez la modification
                avec un <em>commit</em> unique pour les 4 fichiers modifiés.
              </li>
              <li>
                Le temps que Mme Caroll valide ses demandes, vous retournez sur
                la branche principale et y ajoutez « paragraphe5.txt » avec
                un <em>commit</em>. Bien sûr, dans votre branche principale,
                l’héroïne s’appelle toujours Alice.
              </li>
              <li>
                M. Lewis a une nouvelle idée ! Alice n’est pas avec sa sœur,
                elle est en réalité avec son chien. À partir de votre branche
                principale, vous créez donc une branche « lewis-chien ». Dans
                cette branche, vous changez les phrases du premier paragraphe
                pour que le chien remplace la sœur (oui, le chien d’Alice sait
                lire). Faites un <em>commit</em> avec ces changements.
              </li>
              <li>
                Mme Caroll vous rappelle : il est temps d’utiliser la force
                dans pour intégrer sa demande dans la branche principale !
                Rendez-vous sur la branche principale et <em>mergez</em> la
                branche « caroll-leia ». Le « merge » doit se dérouler sans
                encombres, mais en vérifiant le contenu, vous devez vous rendre
                compte que quelque chose cloche dans le paragraphe 5. Que
                faut-il changer ? Faites un nouveau commit pour corriger cela.
              </li>
              <li>
                M. Lewis souhaite lui-aussi intégrer sa modification au plus
                vite. <em>Mergez</em> donc la branche « lewis-chien » dans
                la branche principale. Vous devez alors avoir un conflit dans
                le premier paragraphe… Pas de panique ! Résolvez ce conflit en
                veillant bien à ce que les demandes de Mme Caroll et de M.
                Lewis soient toutes respectées.
              </li>
              <li>
                Vérifiez que le contenu des 5 paragraphes est conforme à toutes
                les attentes. Maintenant que tout est dans la branche
                principale, supprimez les branches « lewis-bleu »,
                « caroll-leia » et « lewis-chien ».
              </li>
            </ol>
          </section>
          <section class="annexes">
            <h4 id="annexe-3-1">Résultat attendu après intégration de la première demande</h4>
            <p>
              À la suite de l’intégration de la première demande, vous devez
              avoir 4 fichiers dans votre dépôt :
            </p>
            <figure class="fichier">
              <figcaption><code>paragraphe1.txt</code></figcaption>
              <pre>ALICE, assise auprès de sa sœur sur le gazon, commençait à s’ennuyer
de rester là à ne rien faire; une ou deux fois elle avait jeté les yeux sur le livre
que lisait sa sœur; mais quoi! pas d’images, pas de dialogues! “La belle
avance,” 2 pensait Alice, “qu’un livre sans images, sans causeries!”.</pre>
            </figure>
            <figure class="fichier">
              <figcaption><code>paragraphe2.txt</code></figcaption>
              <pre>Elle s’était mise à réfléchir, (tant bien que mal, car la chaleur du jour
l’endormait et la rendait lourde,) se demandant si le plaisir de faire une
couronne de marguerites valait bien la peine de se lever et de cueillir les
fleurs, quand tout à coup un lapin blanc aux yeux bleus passa près d’elle.</pre>
            </figure>
            <figure class="fichier">
              <figcaption><code>paragraphe3.txt</code></figcaption>
              <pre>Il n’y avait rien là de bien étonnant, et Alice ne trouva même pas très-
extraordinaire d’entendre parler le Lapin qui se disait: “Ah! j’arriverai trop
tard!” (En y songeant après, il lui sembla bien qu’elle aurait dû s’en étonner,
mais sur le moment cela lui avait paru tout naturel.) Cependant, quand le
Lapin vint à tirer une montre de son gousset, la regarda, puis se prit à courir
de plus belle, Alice sauta sur ses pieds, frappée de cette idée que jamais elle
n’avait vu de lapin avec un gousset et une montre. Entraînée par la curiosité
elle s’élança sur ses traces à travers le champ, et arriva tout juste à temps
pour le voir disparaître dans un large trou au pied d’une haie.</pre>
            </figure>
            <figure class="fichier">
              <figcaption><code>paragraphe4.txt</code></figcaption>
              <pre>Un instant après, Alice était à la poursuite du Lapin dans le terrier, sans
songer comment elle en sortirait.</pre>
            </figure>
            <p>
              Votre historique doit ressembler à cela :
            </p>
            <figure class="console">
              <figcaption>Historique</figcaption>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/contes</span>$ git log --oneline --date-order --graph --all --decorate
*   <span class="jaune">2e7e53f (<span class="bleu">HEAD</span> -> <span class="vert">main</span>)</span> Merge branch 'lewis-bleu'
|\  
* | <span class="jaune">a9244b3</span> Ajout du 4e paragraphe
| * <span class="jaune">d376eb0 (<span class="vert">lewis-bleu</span>)</span> Changement de la couleur des yeux du lapin
|/  
* <span class="jaune">a709fb6</span> Ajout des 3 premiers paragraphes</code></pre>
            </figure>

            <h4 id="annexe-3-2">Résultat attendu à la fin</h4>
            <p>
              À la fin de votre exercice, vous devez avoir 5 fichiers dans
              votre dépôt :
            </p>
            <figure class="fichier">
              <figcaption><code>paragraphe1.txt</code></figcaption>
              <pre>LEIA, assise auprès de son chien sur le gazon, commençait à s’ennuyer
de rester là à ne rien faire; une ou deux fois elle avait jeté les yeux sur le livre
que lisait son chien; mais quoi! pas d’images, pas de dialogues! “La belle
avance,” 2 pensait Leia, “qu’un livre sans images, sans causeries!”.</pre>
            </figure>
            <figure class="fichier">
              <figcaption><code>paragraphe2.txt</code></figcaption>
              <pre>Elle s’était mise à réfléchir, (tant bien que mal, car la chaleur du jour
l’endormait et la rendait lourde,) se demandant si le plaisir de faire une
couronne de marguerites valait bien la peine de se lever et de cueillir les
fleurs, quand tout à coup un lapin blanc aux yeux bleus passa près d’elle.</pre>
            </figure>
            <figure class="fichier">
              <figcaption><code>paragraphe3.txt</code></figcaption>
              <pre>Il n’y avait rien là de bien étonnant, et Leia ne trouva même pas très-
extraordinaire d’entendre parler le Lapin qui se disait: “Ah! j’arriverai trop
tard!” (En y songeant après, il lui sembla bien qu’elle aurait dû s’en étonner,
mais sur le moment cela lui avait paru tout naturel.) Cependant, quand le
Lapin vint à tirer une montre de son gousset, la regarda, puis se prit à courir
de plus belle, Leia sauta sur ses pieds, frappée de cette idée que jamais elle
n’avait vu de lapin avec un gousset et une montre. Entraînée par la curiosité
elle s’élança sur ses traces à travers le champ, et arriva tout juste à temps
pour le voir disparaître dans un large trou au pied d’une haie.</pre>
            </figure>
            <figure class="fichier">
              <figcaption><code>paragraphe4.txt</code></figcaption>
              <pre>Un instant après, Leia était à la poursuite du Lapin dans le terrier, sans
songer comment elle en sortirait.</pre>
            </figure>
            <figure class="fichier">
              <figcaption><code>paragraphe5.txt</code></figcaption>
              <pre>Pendant un bout de chemin le trou allait tout droit comme un tunnel,
puis tout à coup il plongeait perpendiculairement d’une façon si brusque
que Leia se sentit tomber comme dans un puits d’une grande profondeur,
avant même d’avoir pensé à se retenir.</pre>
            </figure>
            <p>
              Votre historique doit ressembler à cela :
            </p>
            <figure class="console">
              <figcaption>Historique</figcaption>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/contes</span>$ git log --oneline --date-order --graph --all --decorate
*   <span class="jaune">69743d5 (<span class="bleu">HEAD</span> -> <span class="vert">main</span>)</span> Merge branch 'lewis-chien'
|\  
* | <span class="jaune">a75af37</span> Changement du nom Alice en Leia dans le 5e paragraphe
* |   <span class="jaune">659aad7</span> Merge branch 'caroll-leia'
|\ \  
| | * <span class="jaune">971188e</span> Changement de la sœur en chien
| |/  
|/|   
* | <span class="jaune">d15cd74</span> Ajout du 5e paragraphe
| * <span class="jaune">ddd4ab7</span> Changement du nom d’Alice en Leia
|/  
*   <span class="jaune">2e7e53f</span> Merge branch 'lewis-bleu'
|\  
* | <span class="jaune">a9244b3</span> Ajout du 4e paragraphe
| * <span class="jaune">d376eb0</span> Changement de la couleur des yeux du lapin
|/  
* <span class="jaune">a709fb6</span> Ajout des 3 premiers paragraphes</code></pre>
            </figure>
          </section>
        </section>

        <section id="partage">
          <h3>Partager son dépôt et travailler à plusieurs</h3>
          <section class="introduction">
            <p>Temps estimé : 1h.</p>
            <p>
              Cette dernière étape nous permet d’aborder les spécificités du
              travail collaboratif. Nous apprendrons à partager nos dépôts sur
              GitHub, une plateforme d’hébergement de dépôts Git, et à laisser
              plusieurs personnes travailler en commun sur un même projet.
            </p>
          </section>
          <section class="sujet">
            <p>
              Votre entreprise souhaite mettre en ligne la documentation des
              différentes commandes de Git. Pour cela, elle fait appel à une
              équipe de deux personnes qui travailleront en parallèle pour
              intégrer le contenu.
            </p>
            <p>
              Vous allez donc réaliser ce travail à deux, une personne jouant
              le rôle A et l’autre le rôle B. N’hésitez pas à partager votre
              écran pour montrer à l’autre ce que vous faites, et
              bien sûr à vous entraider.
            </p>
            <p>
              Le dépôt Git sera stocké sur GitHub, la plateforme de
              développement la plus utilisée dans le monde.
            </p>
          </section>
          <section class="questions">
            <h4>Créez le dépôt principal et le <em>fork</em></h4>
            <aside class="documents">
              <ul>
                <li><a href="#vocabulaire">FR 4</a></li>
                <li><a href="#integration">FR 6</a></li>
              </ul>
            </aside>
            <ol>
              <li>
                Créez un compte par personne sur GitHub, si vous n’en avez pas
                déjà un.
              </li>
              <li>
                Pour la personne A : créez un dépôt public nommé « doc-git ».
                Ce dépôt doit contenir un fichier README automatique. Ce dépôt
                sera le dépôt principal, sur lequel vous pourrez intégrer les
                changements venant de <em>forks</em>.
              </li>
              <li>
                Pour la personne B : <em>forkez</em> le dépôt « doc-git » de la
                personne A. Ce dépôt sera un <em>fork</em>, c’est-à-dire un
                dépôt secondaire personnel sur lequel vous pourrez développer
                des fonctionnalités qui seront ensuite intégrées dans le dépôt
                principal.
              </li>
              <li>
                Pour les deux personnes : clonez votre dépôt personnel sur
                votre ordinateur. Vous devez avoir tous les deux les même
                fichier « README ».
              </li>
            </ol>

            <h4>Ouvrez une <em>pull request</em></h4>
            <ol>
              <li>
                Pour la personne A : créez un fichier « add » qui contient la
                documentation de la commande <code>add</code>
                de <a href="#commandes">la fiche ressource 3</a>. Faites
                un <em>commit</em> avec ce nouveau fichier.
              </li>
              <li>
                Pour la personne B : créez un fichier « commit » qui contient
                la documentation de la commande <code>commit</code>
                de <a href="#commandes">la fiche ressource 3</a>. Faites
                un <em>commit</em> avec ce nouveau fichier.
              </li>
              <li>
                Pour les deux personnes : <em>pushez</em> votre commit sur
                votre dépôt. Vérifiez sur l’interface de GitHub que les
                changements sont bien visibles sur votre dépôt, et que vous
                avez chacun le fichier « README » et le fichier de votre
                commande respective.
              </li>
              <li>
                Pour la personne B : Vous souhaitez faire intégrer votre
                commande dans le dépôt principal. Ouvrez une <em>pull
                request</em> demandant l’intégration de votre travail.
              </li>
            </ol>

            <h4><em>Mergez</em> une <em>pull request</em></h4>
            <ol>
              <li>
                Pour la personne A : <em>mergez</em> la <em>pull request</em>
                ouverte par la personne B. Vérifiez sur GitHub que vous avez
                désormais les fichiers « README », « add » et « commit » dans
                votre dépôt.
              </li>
              <li>
                Pour la personne B : sur GitHub, synchronisez
                votre <em>fork</em> avec le dépôt principal. Vérifiez que vous
                avez également les fichiers « README », « add » et « commit »
                dans votre dépôt.
              </li>
              <li>
                Pour les deux personnes : <em>pullez</em> les nouveaux commits
                de votre dépôt distant sur votre ordinateur. Vérifiez que vous
                avez bien les mêmes fichiers et le même historique.
              </li>
            </ol>
          </section>
        </section>
      </section>


      <section id="atelier">
        <h2>Atelier</h2>
        <section class="introduction">
          <p>Temps estimé : 2h.</p>
        </section>
        <section class="sujet">
          <todo></todo>
        </section>
      </section>


      <section id="fiches-ressources">
        <h2>Fiches ressources</h2>

        <section id="installation">
          <h3>Installation et utilisation de Git</h3>

          <h4>Installation</h4>
          <p>
            <strong>Avant une première utilisation de Git, il est nécessaire de
            l’installer.</strong> La procédure d’installation varie selon le
            système système d’exploitation, toutes les informations nécessaires
            sont disponibles sur
            <a href="https://git-scm.com/downloads">le site de Git</a>.
          </p>
          <p>
            <strong>Sous Linux ou macOS, Git est peut-être déjà
            installé.</strong> Il est possible de tester en tapant
            <code>git version</code> dans un terminal, puis en appuyant sur la
            touche <kbd>Entrée</kbd> : si le numéro de version apparaît, Git
            est déjà là, il n’y a rien d’autre à faire !
          </p>
          <p>
            Dans tous les autres cas, voici les instructions à suivre pour avoir
            une version de Git fonctionnelle sur votre ordinateur.
          </p>
          <h5>Windows</h5>
          <p>
            Sous Windows, l’outil
            <a href="https://github.com/git-for-windows/git"><em>Git for Windows</em></a>
            installe une version de Git spécifiquement configurée
            pour Windows, comme son nom l’indique ! Un lien direct vers
            l’installeur ainsi que des méthodes alternatives d’installation sont
            disponibles sur
            <a href="https://git-scm.com/download/win">la page dédiée du site de Git</a>.
          </p>
          <h5>macOS</h5>
          <p>
            Sous macOS, la solution la plus simple pour installer Git est de
            taper <code>git</code> dans un terminal et de suivre les
            instructions. Si cette méthode ne fonctionne pas, il existe
            <a href="https://git-scm.com/download/mac">différentes manières alternatives d’installer Git</a>
            dont l’une vous conviendra sans doute.
          </p>
          <h5>Linux</h5>
          <p>
            Sous Linux, un paquet pour Git est proposé par votre distribution. Vous
            pouvez l’installer en utilisant votre gestionnaire de paquets
            (<code>apt</code> sous Debian, Ubuntu ou Mint, <code>yum</code> sous
            Fedora, <code>pacman</code> sous Arch…)
          </p>

          <h4>Utilisation</h4>
          <p>
            <strong>Pour ce module, nous allons utiliser le terminal</strong>
            pour lancer les commandes Git. Vous pouvez ouvrir un terminal :
          </p>
          <ul>
            <li>sous <strong>Windows</strong> en lançant l’« invite de commandes » dans le menu Démarrer,</li>
            <li>sous <strong>macOS</strong> en saisissant « terminal » dans <em>Spotlight</em>,</li>
            <li>sous <strong>Linux</strong> en lançant une application de terminal (GNOME terminal, Konsole…) fournie par votre distribution.</li>
          </ul>
          <p>
            Bien qu’il soit toujours utile d’avoir une bonne connaissance du
            terminal lorsque l’on développe, vous n’aurez besoin de connaître
            que quelques commandes de base pour réaliser les étapes de ce module :
          </p>
          <ul>
            <li>
              changer le dossier dans lequel vous êtes avec <code>cd</code> ;
            </li>
            <li>
              créer un dossier avec <code>mkdir</code> ;
            </li>
            <li>
              lister le contenu du dossier actuel avec <code>ls</code> sous
              Linux et macOS, et <code>dir</code> sous Windows.
            </li>
          </ul>
          <p>
            <strong>Si vous n’avez jamais utilisé ces commandes, nous vous
            conseillons de vous familiariser avec elles</strong> dans un
            terminal avant de lancer vos premières commandes Git. De nombreuses
            ressources sont disponibles sur internet pour en apprendre plus à
            leur sujet.
          </p>
          <p>
            Évidemment, il est possible de vérifier la structure de vos
            dossiers et fichiers avec votre explorateur de fichiers habituel.
          </p>
          <figure>
            <figcaption>Exemple de commandes sous Windows</figcaption>
            <todo>Terminal sous Windows</todo>
          </figure>
          <figure class="console">
            <figcaption>Exemple de commandes sous macOS ou Linux</figcaption>
            <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~</span>$ ls  <span class="gris"># (lister les fichiers et dossiers)</span>
Docs  Images  Modèles  Musique  Vidéos
<span class="vert">alice@laptop</span>:<span class="bleu">~</span>$ cd Docs  <span class="gris"># (aller dans le dossier Docs)</span>
<span class="vert">alice@laptop</span>:<span class="bleu">~/Docs</span>$ ls  <span class="gris"># (lister les fichiers et les dossiers)</span>
Administratif  Cours  Secrets
<span class="vert">alice@laptop</span>:<span class="bleu">~/Docs</span>$ mkdir Info  <span class="gris"># (créer un dossier Info)</span>
<span class="vert">alice@laptop</span>:<span class="bleu">~/Docs</span>$ cd Info  <span class="gris"># (aller dans le dossier Info)</span>
<span class="vert">alice@laptop</span>:<span class="bleu">~/Docs/Info</span>$ cd ..  <span class="gris"># (aller dans le dossier parent)</span>
<span class="vert">alice@laptop</span>:<span class="bleu">~/Docs</span>$</code></pre>
          </figure>
          <p>
            <strong>L’autre outil que nous utiliserons pour ce module est un
            éditeur de texte.</strong> Avec lui, nous pouvons créer fichiers
            contenant du texte brut, c’est à dire sans formatage,
            <strong>à l’inverse de ce que proposent des traitements de texte
            comme Microsoft Word ou LibreOffice.</strong>
          </p>
          <p>
            Si vous avez l’habitude d’écrire du code, vous avez sans doute déjà
            un éditeur favori : Visual Studio Code, Sublime Text, Vim, Emacs…
            N’importe quel éditeur fera l’affaire, tant qu’il enregistre texte
            brut. Le choix est une histoire de goût personnel !
          </p>
          <p>
            <strong>Si vous n’avez jamais utilisé d’éditeur de texte, nous vous
            conseillons pour ce module d’en utiliser un déjà installé sur votre
            système.</strong> Ces programmes vous paraîtront sans doute trop
            simples pour écrire du code à l’avenir, mais ils sont largement
            suffisants pour les exercices de cette formation :
          </p>
          <ul>
            <li>
              Bloc-notes sous <strong>Windows</strong>,
            </li>
            <li>
              TextEdit sous <strong>macOS</strong> en prenant soin d’activer
              <a href="https://support.apple.com/fr-fr/guide/textedit/txted1063/1.19/mac/14.0#txte8a01e4aa">l’option « format texte »</a> dans la configuration de vos nouveaux documents,
            </li>
            <li>
              l’éditeur de texte proposé par défaut par votre distribution
              sous <strong>Linux</strong>.
            </li>
          </ul>
        </section>

        <section id="configuration">
          <h3>Configuration générale, configuration de dépôts</h3>
          <p>
            <strong>Avec Git, il est possible de configurer certaines options de vos
            dépôts.</strong> Il est également possible de définir une configuration
            globale qui sera prise en compte avec tous les dépôts, si ces
            options ne sont pas définies dans le dépôt.
          </p>
          <p>
            Deux options doivent être configurées avant votre première
            utilisation de Git : votre nom et votre adresse email. Pour cela,
            vous pouvez utiliser la commande <code>git config</code> :
          </p>
          <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~</span>$ git config user.email "alice@wonderland.org"
<span class="vert">alice@laptop</span>:<span class="bleu">~</span>$ git config user.name "Alice Liddell"</code></pre>
          <p>
            <strong>Mettez bien votre nom et votre adresse email !</strong>
            Vous ne vous appelez sans doute pas « Alice Liddell ».
          </p>
          <p>
            Lorsque ces commandes sont effectuées en dehors d’un dépôt, elles
            configurent Git au niveau de votre système : tous les dépôts que
            vous créerez utiliseront ces valeurs par défaut.
          </p>
          <p>
            <strong>Si vous souhaitez configurer un dépôt en
            particulier,</strong> vous pouvez vous rendre dans l’arbre de
            travail de votre dépôt et effectuer les mêmes commandes. Si vous
            travaillez par exemple sur un dépôt « star-wars » où vous souhaitez
            faire vos <em>commits</em> sous le nom de « Princesse Leia » à la
            place de « Alice Liddell », vous pouvez modifier votre
            configuration uniquement pour ce dépôt :
          </p>
          <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~</span>$ cd star-wars
<span class="vert">alice@laptop</span>:<span class="bleu">~/star-wars</span>$ git config user.email "leia@republique.org"
<span class="vert">alice@laptop</span>:<span class="bleu">~/star-wars</span>$ git config user.name "Princesse Leia"</code></pre>
          <p>
            De nombreuses options peuvent être configurées dans vos dépôts Git.
            Vous trouverez une liste exhaustive dans
            <a href="https://git-scm.com/docs/git-config">la documentation en ligne de Git</a>
            ou en tapant <code>git help config</code> dans le terminal.
          </p>
        </section>

        <section id="commandes">
          <h3>Commandes principales</h3>
          <p>
            <strong>Les commandes principales de Git sont présentées ici de manière
            succincte,</strong> pour les cas d’usage les plus courants. Certaines
            explications sont parfois simplifiées. Il existe beaucoup d’autres
            commandes et beaucoup d’autres options pour ces commandes.
          </p>
          <p>
            Il est possible de lancer la commande <code>git help</code> dans un
            terminal pour en savoir plus sur les commandes communes, ou pour
            connaître de manière exhaustive les options d’une commande. <strong>Toutes
            les informations sont également disponibles dans
            <a href="https://git-scm.com/docs">la documentation de Git en ligne</a>.</strong>
          </p>

          <h4>Créer et partager des dépôts</h4>
          <dl>
            <dt><code>init</code></dt>
            <dd>
              <p>
                Crée un nouveau dépôt vide.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~</span>$ git init depot
Dépôt Git vide initialisé dans /home/alice/depot/.git/
<span class="vert">alice@laptop</span>:<span class="bleu">~</span>$ cd depot
<span class="vert">alice@laptop</span>:<span class="bleu">~/depot</span>$ git status
Sur la branche main
Aucun commit</code></pre>
            </dd>
            <dt><code>clone</code></dt>
            <dd>
              <todo>trouver un dépôt d’exemple</todo>
              <p>
                Télécharge un dépôt et le met dans un nouveau dossier.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~</span>$ git clone xxx
Clonage dans 'xxx'...
[…]
<span class="vert">alice@laptop</span>:<span class="bleu">~</span>$ cd xxx
<span class="vert">alice@laptop</span>:<span class="bleu">~/xxx</span>$ git log
[…]</code></pre>
            </dd>
            <dt><code>fetch</code></dt>
            <dd>
              <p>
                Télécharge les objets et les références d’un dépôt.
              </p>
              <p>
                Il est essentiellement utilisé pour récupérer les nouveaux
                <em>commits</em>, les nouvelles branches et les nouvelles
                étiquettes du dépôt distant qui correspond au dépôt local.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/depot</span>$ git fetch
[…]
Depuis git://example.com/git/depot
   a04786b93..ee07a8118  main       -> origin/main
 * [nouvelle étiquette]  v1.2       -> v1.2
[…]</code></pre>
            </dd>
            <dt><code>pull</code></dt>
            <dd>
              <p>
                Récupère les informations du dépôt distant et les intègre dans
                le dépôt local.
              </p>
              <p>
                Cette commande est généralement utilisée pour récupérer les
                <em>commits</em> qui ont été faits sur le dépôt distant, et
                pour les intégrer sur la branche actuelle du dépôt local.
              </p>
              <p>
                Par exemple, si le dépôt local est sur la
                branche « main », il revient à faire
                <code>git fetch</code> puis <code>git merge origin/main</code>.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/depot</span>$ git pull
[…]
Mise à jour a04786b93..ee07a8118
Fast-forward
fichier1           |  241 <span class="vert">+++++++</span><span class="rouge">---</span>
[…]</code></pre>
            </dd>
            <dt><code>push</code></dt>
            <dd>
              <p>
                Envoie les informations du dépôt local sur le dépôt distant.
              </p>
              <p>
                Cette commande est généralement utilisée pour envoyer sur le
                dépôt distant les <em>commits</em> que l’on a faits sur le
                dépôt local.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/depot</span>$ git push
Poussée vers git://example.com/git/depot
[…]
To git://example.com/git/depot
   fcca709..ce796c9  main -> main
[…]</code></pre>
            </dd>
          </dl>

          <h4>Afficher des informations sur Git et les dépôts</h4>
          <dl>
            <dt><code>help</code></dt>
            <dd>
              <p>
                Affiche l’aide de Git et liste les commandes principales.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~</span>$ git help
usage : git [-v | --version]
[…]
Ci-dessous les commandes Git habituelles dans diverses situations :
[…]</code></pre>
            </dd>
            <dt><code>version</code></dt>
            <dd>
              <p>
                Affiche la version de Git.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~</span>$ git version
git version 2.43.0</code></pre>
            </dd>
            <dt><code>log</code></dt>
            <dd>
              <p>
                Affiche un historique des <em>commits</em>, par défaut ceux de la
                branche actuelle.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/depot</span>$ git log
<span class="jaune">commit a75af376edaf0ff80b54d92ed46fba8e997e2ce7 (<span class="bleu">HEAD</span> -> <span class="vert">master</span>)</span>
Author: Alice Liddell &lt;alice@wonderland.org>
Date:   Tue Dec 19 14:25:06 2023 +0100

    Changement du nom Alice en Leia dans le 5e paragraphe

<span class="jaune">commit 659aad7b4205b25cadb10785108cc5fe71526c90</span>
Merge: d15cd74 ddd4ab7
Author: Alice Liddell &lt;alice@wonderland.org>
Date:   Tue Dec 19 14:24:53 2023 +0100

    Merge branch 'caroll-leia'

[…]

<span class="vert">alice@laptop</span>:<span class="bleu">~/depot</span>$ git log paragraphe1.txt
<span class="jaune">commit 971188eefebec4caf12c3efb383fb675c30e2f8a</span>
Author: Alice Liddell &lt;alice@wonderland.org>
Date:   Tue Dec 19 14:24:22 2023 +0100

    Changement de la sœur en chien

<span class="jaune">commit ddd4ab7dd9935f84e12b06cff4c9ea7cd1d5ca25</span>
Author: Alice Liddell &lt;alice@wonderland.org>
Date:   Tue Dec 19 14:21:37 2023 +0100

    Changement du nom d’Alice en Leia
[…]</code></pre>
            </dd>
            <dt><code>status</code></dt>
            <dd>
              <p>
                Affiche le statut actuel de l’arbre de travail.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/depot</span>$ git status
Sur la branche main
Fichiers non suivis:
  (utilisez "git add &lt;fichier>..." pour inclure dans ce qui sera validé)
	paragraphe6.txt
[…]</code></pre></dd>
            <dt><code>show</code></dt>
            <dd>
              <p>
                Affiche différentes informations sur un objet.
              </p>
              <p>
                Il est généralement utilisé pour afficher les métadonnées d’un <em>commit</em>.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/depot</span>$ git show 8a7eb387
<span class="jaune">commit 8a7eb387651f7c1fc69cedca5e051fc39a3cf2d9</span>
Author: Alice Liddell &lt;alice@wonderland.org>
Date:   Tue Dec 19 14:25:06 2023 +0100

    Changement du nom Alice en Leia dans le 5e paragraphe

<span class="jaune">diff --git a/paragraphe5.txt b/paragraphe5.txt
index e47c0d7..d61b3b8 100644
--- a/paragraphe5.txt
+++ b/paragraphe5.txt</span>
<span class="violet">@@ -1,4 +1,4 @@</span>
 Pendant un bout de chemin le trou allait tout droit comme un tunnel,
 puis tout à coup il plongeait perpendiculairement d’une façon si brusque
<span class="rouge">-qu’Alice se sentit tomber comme dans un puits d’une grande profondeur,</span>
<span class="vert">+que Leia se sentit tomber comme dans un puits d’une grande profondeur,</span>
 avant même d’avoir pensé à se retenir.
[…]</code></pre></dd>
            <dt><code>diff</code></dt>
            <dd>
              <p>
                Affiche les modifications entre deux <em>commits</em>, ou entre
                un <em>commit</em> et l’arbre de travail.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~</span>$ git diff
<span class="jaune">diff --git a/paragraphe1.txt b/paragraphe1.txt
index 65a4c91..c06a09e 100644
--- a/paragraphe1.txt
+++ b/paragraphe1.txt</span>
<span class="violet">@@ -1,4 +1,4 @@</span>
 LEIA, assise auprès de son chien sur le gazon, commençait à s’ennuyer
 de rester là à ne rien faire; une ou deux fois elle avait jeté les yeux sur le livre
<span class="rouge">-que lisait son chien; mais quoi! pas d’images, pas de dialogues! “La belle</span>
<span class="vert">+que lisait son chien; mais quoi! pas de photos, pas de dialogues! “La belle</span>
 avance,” 2 pensait Leia, “qu’un livre sans images, sans causeries!”.
</code></pre>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~</span>$ git diff a75af37
<span class="jaune">diff --git a/paragraphe1.txt b/paragraphe1.txt
index 45e1f13..65a4c91 100644
--- a/paragraphe1.txt
+++ b/paragraphe1.txt</span>
<span class="violet">@@ -1,4 +1,4 @@</span>
<span class="rouge">-LEIA, assise auprès de sa sœur sur le gazon, commençait à s’ennuyer</span>
<span class="vert">+LEIA, assise auprès de son chien sur le gazon, commençait à s’ennuyer</span>
 de rester là à ne rien faire; une ou deux fois elle avait jeté les yeux sur le livre
<span class="rouge">-que lisait sa sœur; mais quoi! pas d’images, pas de dialogues! “La belle</span>
<span class="vert">+que lisait son chien; mais quoi! pas d’images, pas de dialogues! “La belle</span>
 avance,” 2 pensait Leia, “qu’un livre sans images, sans causeries!”.
</code></pre>
            </dd>
            <dt><code>config</code></dt>
            <dd>
              <p>
                Affiche et modifie la configuration de Git et du dépôt.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~</span>$ git config user.email
alice@wonderland.org
<span class="vert">alice@laptop</span>:<span class="bleu">~</span>$ git config user.name "Alice Liddell"</code></pre>
            </dd>
          </dl>

          <h4>Créer et gérer des branches et étiquettes</h4>
          <dl>
            <dt><code>branch</code></dt>
            <dd>
              <p>
                Liste, crée ou supprime des branches.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/depot/</span>$ git branch
  <span class="jaune">caroll-leia</span>
  <span class="jaune">lewis-bleu</span>
* <span class="vert">main</span>
<span class="vert">alice@laptop</span>:<span class="bleu">~/depot/</span>$ git branch lewis-chien
<span class="vert">alice@laptop</span>:<span class="bleu">~/depot/</span>$ git branch --delete caroll-leia
Branche caroll-leia supprimée (précédemment 69743d5).</code></pre>
            </dd>
            <dt><code>switch</code></dt>
            <dd>
              <p>
                Change de branche.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/depot/</span>$ git switch lewis-bleu
Basculement sur la branche 'lewis-bleu'</code></pre>
            </dd>
            <dt><code>merge</code></dt>
            <dd>
              <p>
                Fusionne deux branches. Cela revient généralement à créer
                un <em>commit</em> qui a deux parents : la branche actuelle et
                la branche que l’on veut <em>merger</em>.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/depot/</span>$ git merge lewis-bleu
Merge made by the 'ort' strategy.
paragraphe2.txt | 2 <span class="vert">+</span><span class="rouge">-</span>
 1 file changed, 1 insertion(+), 1 deletion(-)</code></pre>
            </dd>
            <dt><code>rebase</code></dt>
            <dd>
              <p>
                Applique des <em>commits</em> au-dessus d’une autre branche.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/depot/</span>$ git rebase lewis-bleu
Rebasage et mise à jour de refs/heads/main avec succès.</code></pre>
            </dd>
            <dt><code>tag</code></dt>
            <dd>
              <p>
                Crée, liste ou supprime des étiquettes.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/depot/</span>$ git tag
v1.0
v2.0
<span class="vert">alice@laptop</span>:<span class="bleu">~/depot/</span>$ git tag v3.0</code></pre>
            </dd>
          </dl>

          <h4>Créer et gérer les <em>commits</em></h4>
          <dl>
            <dt><code>add</code></dt>
            <dd>
              <p>
                Ajoute le contenu de fichiers à l’index.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/depot/</span>$ git add paragraphe1.txt</code></pre>
            </dd>
            <dt><code>commit</code></dt>
            <dd>
              <p>
                Enregistre les changements de l’index dans le dépôt.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/depot/</span>$ git commit -m "Ajout d’un fichier"
[main 2e363ea] Ajout d’un fichier
 1 file changed, 3 insertions(+), 0 deletions(-)
 create mode 100644 paragraphe1.txt
</code></pre>
            </dd>
            <dt><code>checkout</code></dt>
            <dd>
              <p>
                Bascule sur un <em>commit</em> et met à jour les fichiers de
                l’arbre de travail.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/depot/</span>$ git checkout d15cd74
Note : basculement sur 'd15cd74'.
Vous êtes dans l'état « HEAD détachée ». […]
HEAD est maintenant sur d15cd74 Ajout du 5e paragraphe
<span class="vert">alice@laptop</span>:<span class="bleu">~/depot/</span>git checkout main
La position précédente de HEAD était sur d15cd74 Ajout du 5e paragraphe
Basculement sur la branche 'main'</code></pre>
            </dd>
            <dt><code>revert</code></dt>
            <dd>
              <p>
                Crée un nouveau <em>commit</em> qui annule les changements d’un
                autre <em>commit</em>.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/depot/</span>$ git revert a2de2c68
[main 106aff9] Revert "Ajout du 6e paragraphe"
 1 file changed, 11 deletions(-)
 delete mode 100644 paragraphe6.txt</code></pre>
            </dd>
            <dt><code>reset</code></dt>
            <dd>
              <p>
                Réinitialise la branche sur un <em>commit</em>.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/depot/</span>$ git reset --hard 69743d5
HEAD est maintenant à 69743d5 Merge branch 'lewis-chien'
<span class="vert">alice@laptop</span>:<span class="bleu">~/depot/</span>$ git reset a9244b3
Modifications non indexées après reset :
M	paragraphe1.txt
M	paragraphe2.txt</code></pre>
            </dd>
            <dt><code>restore</code></dt>
            <dd>
              <p>
                Restaure les fichiers de l’arbre de travail dans l’état du
                <em>commit</em> actuel.
              </p>
              <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/depot/</span>$ git restore paragraphe1.txt</code></pre>
            </dd>
          </dl>
        </section>

        <section id="vocabulaire">
          <h3>Vocabulaire et anatomie d’un dépôt Git</h3>
          <p>
            Un dépôt Git sert à stocker un historique de versions. Ces
            différentes versions sont stockées sous forme d’un arbre
            de <strong><em>commits</em></strong>, qui ont chacun un numéro et
            un ou plusieurs parents. Le numéro d’un <em>commit</em> dépend des
            fichiers stockés, des métadonnées et des parents : il est donc
            impossible de changer le contenu d’un <em>commit</em> sans en
            changer le numéro.
          </p>
          <p>
            À partir d’un <em>commit</em>, il est possible de faire partir
            plusieurs suites de <em>commits</em> grâce aux
            <strong>branches</strong>. Le nom de branche est attaché au
            dernier <em>commit</em> de la branche, et est mis à jour à chaque
            nouveau <em>commit</em> sur cette branche.
          </p>
          <p>
            On peut donner un nom spécifique à un <em>commit</em> grâce
            aux <strong>étiquettes</strong>. Une étiquette a pour vocation de
            rester toujours attachée au même <em>commit</em>.
          </p>
          <todo>Image d’un dépôt</todo>
          <p>
            Les commandes de Git permettent d’effectuer différentes opérations
            à différents niveaux :
          </p>
          <ul>
            <li>
              <strong>L’arbre de travail</strong> correspond aux dossiers et
              aux fichiers que l’on peut éditer sur son ordinateur.
            </li>
            <li>
              <strong>Le dépôt local</strong> est un historique de versions
              structuré en arbre de <em>commits</em>. Il est stocké dans un
              dossier caché nommé « .git » dont le contenu ne doit pas être
              modifié directement.
            </li>
            <li>
              <strong>L’index</strong> est une liste temporaire de
              modifications que l’on prend de l’arbre de travail pour les
              mettre dans le dépôt local sous forme de <em>commits</em>.
            </li>
            <li>
              <strong>Le dépôt distant</strong> est un dépôt stocké hors de
              l’arbre de travail, généralement sur un serveur sur internet pour
              être partagé.
            </li>
          </ul>
          <todo>Image des commandes — clone, fetch, pull, push, branch, switch,
          merge, tag, add, commit, checkout, restore</todo>
        </section>

        <section id="conflits">
          <h3>Résolution des conflits</h3>
          <p>
            Lorsque vous fusionnez (on dit aussi « <em>mergez</em> ») deux
            branches, <strong>il est possible que des changements incompatibles aient
            été <em>commités</em></strong> sur les deux branches. Dans ce cas, Git est
            incapable de prendre tout seul les changements des deux branches et
            de les réunir dans une branche.
          </p>
          <p>
            <strong>Les conflits sont normaux dans la vie d’un projet
            Git,</strong> ils ne doivent pas vous décourager ou vous faire
            peur ! Leur résolution nécessite souvent de réfléchir calmement,
            afin de ne pas perdre le travail effectué sur chacune des deux
            branches.
          </p>
          <p>
            Si le <em>merge</em> d’une branche cause un conflit, un message
            comme celui-là sera affiché dans le terminal :
          </p>
          <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/fables/</span>$ git merge corrections
Fusion automatique de cigale-fourmi.txt
CONFLIT (contenu) : Conflit de fusion dans cigale-fourmi.txt
La fusion automatique a échoué ; réglez les conflits et validez le résultat.</code></pre>
          <p>
            Dans cette situation, la première chose est de <strong>déterminer
            quels fichiers contiennent un conflit.</strong>
          </p>
          <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/fables/</span>$ git status
Sur la branche main
Vous avez des chemins non fusionnés.
  (réglez les conflits puis lancez "git commit")
  (utilisez "git merge --abort" pour annuler la fusion)

Chemins non fusionnés :
  (utilisez "git add &lt;fichier>..." pour marquer comme résolu)
    <span class="rouge">modifié des deux côtés :  cigale-fourmi.txt</span>

aucune modification n'a été ajoutée à la validation
(utilisez "git add" ou "git commit -a")</code></pre>
          <p>
            Plusieurs informations importantes sont affichées sur cet écran :
          </p>
          <ul>
            <li>
              Nous sommes sur la branche « main » (où nous souhaitons
              intégrer la branche « corrections », comme l’indique notre
              commande <code>git merge corrections</code>).
            </li>
            <li>
              Nous pouvons annuler cette fusion avec
              <code>git merge --abort</code> : cela remettrait le dépôt et
              l’arbre de travail à leur état avant la tentative de fusion.
            </li>
            <li>
              Nous avons un fichier non fusionné, c’est-à-dire qui contient
              un conflit : « cigale-fourmi.txt ».
            </li>
            <li>
              Une fois un conflit résolu, nous pourrons ajouter le fichier
              correspondant dans l’index avec <code>git add</code>. Pour
              l’instant, l’index est vide.
            </li>
            <li>
              Une fois tous les conflits résolus et ajoutés dans l’index,
              nous pourrons terminer la fusion avec <code>git commit</code>.
            </li>
          </ul>
          <p>
            Regardons ce qui a été fait les deux branches :
          </p>
          <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/fables/</span>$ git log --oneline --date-order --graph --all --decorate
* <span class="jaune">e51aeac (<span class="vert">corrections</span>)</span> Utilisation de tirets pour le dialogue
| * <span class="jaune">df464f0 (<span class="bleu">HEAD</span> -> <span class="vert">main</span>)</span> Utilisation du français moderne
|/  
* <span class="jaune">0dd646e</span> Ajout de la cigale et la fourmi</code></pre>
          <p>
            Sur « main », un <em>commit</em> a changé la fable en français
            moderne. Sur « corrections », on a utilisé des tirets pour le
            dialogue. Ce sont ces deux commits qui ont causé le problème.
            Regardons donc le contenu du fichier :
          </p>
          <figure class="fichier">
            <figcaption><code>cigale-fourmi.txt</code></figcaption>
            <pre>[…]
La fourmi n’est pas prêteuse;
C’est là son moindre défaut:
<span class="violet">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span>
Que faisiez-vous au temps chaud?
Dit-elle à cette emprunteuse.—
Nuit et jour à tout venant
Je chantais, ne vous déplaise.—
Vous chantiez! j’en suis fort aise.
<span class="violet">||||||| 0dd646e</span>
Que faisiez-vous au temps chaud?
Dit-elle à cette emprunteuse.—
Nuit et jour à tout venant
Je chantois, ne vous déplaise.—
Vous chantiez! j’en suis fort aise.
<span class="violet">=======</span>
-Que faisiez-vous au temps chaud?
Dit-elle à cette emprunteuse.
-Nuit et jour à tout venant
Je chantois, ne vous déplaise.
-Vous chantiez! j’en suis fort aise.
<span class="violet">>>>>>>> corrections</span>
Hé bien! dansez maintenant.</pre>
          </figure>
          <p>
            On voit que la même partie est présente trois fois :
          </p>
          <ul>
            <li>
              La première partie correspond à « HEAD », c’est-à-dire à la
              branche actuelle, c’est-à-dire à « main ». Elle contient
              l’utilisation du français moderne (« je chantais », et pas « je
              chantois ».
            </li>
            <li>
              La deuxième partie correspond à « 0dd646e », c’est-à-dire le
              commit avant que les deux branches ne divergent. On a encore le
              vieux français et les tirets en fin de ligne.
            </li>
            <li>
              La troisième partie correspond à « corrections ». Elle contient
              les tirets au début des lignes pour les dialogues.
            </li>
          </ul>
          <p>
            <strong>Notre but va donc être d’intégrer les changements des deux
            branches en même temps sur ce passage :</strong> le français
            moderne et les tirets au début des lignes. Après réflexion, nous
            arrivons à la solution suivante :
          </p>
          <figure class="fichier">
            <figcaption><code>cigale-fourmi.txt</code></figcaption>
            <pre>[…]
La fourmi n’est pas prêteuse;
C’est là son moindre défaut:
-Que faisiez-vous au temps chaud?
Dit-elle à cette emprunteuse.
-Nuit et jour à tout venant
Je chantais, ne vous déplaise.
-Vous chantiez! j’en suis fort aise.
Hé bien! dansez maintenant.</pre>
          </figure>
          <p>
            Parfait ! Maintenant que le conflit est résolu, <strong>nous allons
            pouvoir l’ajouter à l’index et effectuer le commit.</strong>
          </p>
          <pre><code><span class="vert">alice@laptop</span>:<span class="bleu">~/fables/</span>$ git add cigale-fourmi.txt
<span class="vert">alice@laptop</span>:<span class="bleu">~/fables/</span>$ git status
Sur la branche main
Tous les conflits sont réglés mais la fusion n'est pas terminée.
  (utilisez "git commit" pour terminer la fusion)

Modifications qui seront validées :
    <span class="jaune">modifié :         cigale-fourmi.txt</span>
<span class="vert">alice@laptop</span>:<span class="bleu">~/fables/</span>$ git commit
[main d8e7a67] Merge branch 'corrections'
<span class="vert">alice@laptop</span>:<span class="bleu">~/fables/</span>$ git status
Sur la branche main
rien à valider, la copie de travail est propre
<span class="vert">alice@laptop</span>:<span class="bleu">~/fables/</span>$ git log --oneline --date-order --graph --all --decorate
*   <span class="jaune">d8e7a67 (<span class="bleu">HEAD</span> -> <span class="vert">main</span>)</span> Merge branch 'corrections'
|\  
| * <span class="jaune">e51aeac (<span class="vert">corrections</span>)</span> Utilisation de tirets pour le dialogue
* | <span class="jaune">df464f0</span> Utilisation du français moderne
|/  
* <span class="jaune">0dd646e</span> Ajout de la cigale et la fourmi</code></pre>
          <p>
            Notre conflit est résolu ! La branche « main » contient maintenant
            tous les commits de la branche « corrections », nous pouvons donc
            supprimer la branche « corrections ».
          </p>
        </section>

        <section id="integration">
          <h3>Intégration dans d’autres outils</h3>
          <p>
            Git est un outil que l’on peut utiliser dans un terminal, mais
            <strong>de nombreux logiciels graphiques et plateformes en ligne
            permettent également d’interagir avec des dépôts Git.</strong>
          </p>

          <h4>Forges logicielles</h4>
          <p>
            <strong>Les <a href="https://fr.wikipedia.org/wiki/Forge_(informatique)">forges
            logicielles</a> sont des plateformes en ligne</strong> permettant
            de partager du code et de gérer de nombreux aspects de son
            développement : tickets, demandes de fusion, revues de code,
            documentation, intégration et déploiement continus…
          </p>
          <p>
            <strong>La forge la plus populaire est
            <a href="https://github.com/">GitHub</a>.</strong> GitHub permet de
            créer gratuitement des dépôts publics ou privés, et de suivre en
            ligne l’avancement du développement.
          </p>
          <p>
            Une fonctionnalité puissante des forges logiciel est de proposer à
            n’importe quel utilisateur de <em>forker</em> le dépôt d’une autre
            personne. Cette opération consiste à copier le dépôt dans son
            compte personnel afin de pouvoir y effectuer des modifications,
            sans modifier directement le projet original. Si l’on veut que ces
            modifications soient ensuite intégrées dans le dépôt de base, il
            est possible d’ouvrir une <em>pull request</em> qui permettra de
            faire une revue de code et potentiellement de <em>merger</em> les
            changements dans la branche principale.
          </p>
          <p>
            Pour en savoir plus sur GitHub et apprendre comment l’utiliser, il
            est recommandé de suivre les premières étapes de la page
            <em><a href="https://docs.github.com/en/get-started/quickstart">QuickStart</a></em>.
          </p>
          <p>
            D’autres forges existent,
            comme <a href="https://about.gitlab.com/">GitLab</a> ou
            <a href="https://bitbucket.org/product/">Bitbucket</a>.
          </p>

          <h4>Éditeurs de texte</h4>
          <p>
            <strong>La plupart des éditeur de texte avancés proposent une
            intégration de Git,</strong> permettant d’effectuer les commandes
            courantes de Git directement depuis leur interface.
          </p>
          <p>
            <strong>C’est par exemple le cas de
            <a href="https://code.visualstudio.com/">Visual Studio Code</a></strong>
            qui offre
            <a href="https://code.visualstudio.com/docs/sourcecontrol/overview">une
            palette très large de fonctionnalités</a> permettant entre autres
            de gérer <em>commits</em>, branches et conflits. Il est également
            possible de suivre facilement depuis VS Code
            <a href="https://code.visualstudio.com/docs/sourcecontrol/github">l’évolution
            du développement sur GitHub</a>.
          </p>
          <p>
            D’autres éditeurs offrent des fonctionnalités similaires, comme
            <a href="https://eclipseide.org/">Eclipse</a>,
            <a href="https://www.sublimetext.com/">Sublime Text</a>
            (avec <a href="https://www.sublimemerge.com/">Sublime Merge</a>),
            les éditeurs de <a href="https://www.jetbrains.com/">JetBrains</a>,
            ou <a href="https://www.gnu.org/software/emacs/">Emacs</a>
            (avec <a href="https://magit.vc/">Magit</a>).
          </p>
        </section>
      </section>
    </main>
  </body>
</html>
